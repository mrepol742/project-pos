/**
 * Â© 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as s,j as e}from"./QC5vPiN9.js";import{H as r}from"./Vwz4urAK.js";import{F as t,u as o,v as i}from"./DugxoI_f.js";import{a as c,P as a,A as l}from"./Cwy0f9Mo.js";import{y as n}from"./CKpO31bV.js";import{a as d,i as j,j as m,k as p,l as x,m as h,n as u}from"./C6WlzKMn.js";import{u as f}from"./BWKriypK.js";import"./CIV2xMzx.js";import"./DEA7gE6q.js";import"./DrPDZbur.js";import"./BvQcBku0.js";import"./CNTFux7v.js";import"./Dn9qkSmD.js";import"./BLfjdmXG.js";import"./CuPG8W_I.js";import"./D1366AgG.js";import"./CBhXu_vv.js";import"./B_QUkDTQ.js";import"./DmgXf5fm.js";import"./VSpmzgsF.js";import"./BXEMiIsG.js";import"./BeLtu-UY.js";import"./B_AfaIMK.js";import"./CD0Ur-HC.js";import"./Bud0EmM2.js";import"./CEDJOVJu.js";import"./Bi3V5Iik.js";import"./D0N3IP90.js";const g=()=>{f();const[g,y]=s.useState([]),[P,S]=s.useState(1),[v,C]=s.useState(0),[N,k]=s.useState(0),[w,b]=s.useState(!1),[z,A]=s.useState(!1),[E,_]=s.useState(!1),[F,q]=s.useState(!0);s.useEffect(()=>{B(P)},[P]);const B=async s=>{try{const e=await axios.get("/products/all",{params:{page:s}});if(e.data.error)return n.error(e.data.error);y(e.data.data),C(e.data.totalPages),S(e.data.currentPage),k(e.data.itemCount)}catch(e){console.error("Error fetching Products:",e),n.error("Failed to fetch products list")}finally{q(!1)}};return e.jsxs("div",{children:[e.jsx(r,{children:e.jsx("title",{children:"Products - Project POS"})}),e.jsx(c,{data:{showAppModal:w,setShowAppModal:b},children:e.jsx(a,{})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Products"}),e.jsxs("span",{children:[N.toLocaleString()," Products"]})]}),e.jsxs("div",{children:[e.jsx(d,{size:"sm",className:"me-1",color:"primary",onClick:()=>alert("Import Products"),children:"Import"}),e.jsx(d,{size:"sm",className:"me-1",color:"primary",onClick:()=>(async()=>{window.open("http://localhost:8000/api/export/products","_blank")})(),children:"Export"}),e.jsx(d,{size:"sm",color:"primary",onClick:()=>b(!0),children:"Add"})]})]}),F&&e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx("h3",{children:"Loading products..."})}),0==g.length&&!F&&e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx("h3",{children:"No products yet"})}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[e.jsx(m,{children:e.jsxs(p,{children:[e.jsx(x,{scope:"col",children:"Name"}),e.jsx(x,{scope:"col",children:"Code"}),e.jsx(x,{scope:"col",children:"Barcode"}),e.jsx(x,{scope:"col",children:"Quantity"}),e.jsx(x,{scope:"col",children:"Cost Price"}),e.jsx(x,{scope:"col",children:"Sale Price"}),e.jsx(x,{scope:"col",children:"Stock"}),e.jsx(x,{scope:"col",children:"Category"}),e.jsx(x,{scope:"col"})]})}),e.jsx(h,{children:g.map((s,r)=>e.jsxs(p,{children:[e.jsx(u,{children:s.name}),e.jsx(u,{children:s.code}),e.jsx(u,{children:s.barcode}),e.jsx(u,{children:s.quantity}),e.jsx(u,{children:s.cost_price}),e.jsx(u,{children:s.sale_price}),e.jsx(u,{children:s.is_active?"Yes":"No"}),e.jsx(u,{children:s.category.name}),e.jsx(u,{children:e.jsxs("div",{className:"d-flex",children:[e.jsx(d,{size:"sm",color:"primary",onClick:()=>alert(`Edit ${s.name}`),children:e.jsx(t,{icon:o})}),e.jsx(d,{size:"sm",color:"danger",onClick:()=>alert(`Delete ${s.name}`),className:"ms-2 text-white",children:e.jsx(t,{icon:i})})]})})]},s.id))})]}),e.jsx(l,{currentPage:P,setCurrentPage:S,totalPages:v,setTotalPages:C})]})]})};export{g as default};
