/**
 * © 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Ce13HLun.js","assets/Cn32OB1o.js","assets/Dph47E3T.js","assets/t8mI9RYm.js","assets/uZNeay-J.js","assets/DUYG9vXX.js","assets/DKQ8yKpg.js","assets/C6Ar4aP7.js","assets/CFrBDmKk.js","assets/CGa6wk7G.js","assets/k-NSAY8B.js","assets/DLoPGEpw.js","assets/Bud0EmM2.js","assets/InIMjYBq.js","assets/BeLtu-UY.js","assets/nJrICC0Q.js","assets/8s0Lk6BH.js","assets/CMJEcyR7.js","assets/DQcpn1Ea.js","assets/BUTH-fPQ.js","assets/CR30QrPc.js","assets/DyGPnA2_.js","assets/Dg4gVdE3.js","assets/BFlcZtwJ.js","assets/BPjVUy-D.js","assets/BTvahscA.js","assets/BXEMiIsG.js","assets/DtD_m7HI.css","assets/Ca9hs0uL.js","assets/hqVdLbZn.js","assets/D0N3IP90.js","assets/C111EtUu.css","assets/Dyh1qAe4.js","assets/5T36XhWz.js","assets/D45jnhfl.js","assets/DDb4eveY.js","assets/DnE_tpiE.js","assets/Ds-FckBC.js","assets/CZHQSwml.js","assets/Bn0FtMhX.js","assets/DXfOt1-V.js","assets/BPEPcvPN.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./CR30QrPc.js";import{r as s,j as a,R as r}from"./Cn32OB1o.js";import{a as n,u as t}from"./DyGPnA2_.js";import{H as i}from"./t8mI9RYm.js";import{F as l,f as o,a as c,b as d,c as m,d as x,e as h,g as j,h as p,i as g,j as u,k as f,l as b,m as y,n as N}from"./CMJEcyR7.js";import{y as C}from"./InIMjYBq.js";import{c as _,d as v,a as w,e as P,f as k,g as S,h as L,i as A,j as E,k as R,l as M,m as z,n as D,C as q,b as T,o as F,p as I,q as O,r as U,s as V,t as H,v as $,w as W,x as B,y as G,z as J,u as K,A as Q,B as X,D as Y,E as Z,F as ee,G as se,H as ae,I as re,J as ne,K as te,L as ie,M as le,N as oe,O as ce,P as de}from"./C6Ar4aP7.js";import{P as me}from"./uZNeay-J.js";import{R as xe,a as he,u as je,b as pe}from"./DQcpn1Ea.js";import{S as ge}from"./Ca9hs0uL.js";const ue=()=>{const[e,r]=s.useState({name:"",description:""}),n=e=>{const{id:s,value:a}=e.target;r((e=>({...e,[s]:a})))};return a.jsxs(_,{onSubmit:s=>{s.preventDefault(),axios.post("/categories",e).then((s=>{if(s.data.error)return C.error(s.data.error);C.success(`${e.name} created successfully`),r({name:"",description:""})})).catch((s=>{console.error("Error creating category:",s),C.error(`Failed to create category ${e.name}`)}))},children:[a.jsxs("div",{className:"d-flex align-items-center mb-3 fs-5",children:[a.jsx(l,{icon:o,className:"me-2"}),"New Category"]}),a.jsx(v,{type:"text",id:"name",floatingClassName:"mb-3",floatingLabel:"Name",onChange:n,placeholder:"",required:!0}),a.jsx(v,{type:"text",id:"description",floatingClassName:"mb-3",floatingLabel:"Description",onChange:n,placeholder:"",required:!0}),a.jsxs("div",{className:"d-flex justify-content-end mt-3",children:[a.jsx(w,{color:"secondary",className:"me-2",size:"sm",children:"Cancel"}),a.jsx(w,{color:"primary",size:"sm",type:"submit",children:"Add Category"})]})]})},fe=({currentPage:e,setCurrentPage:s,totalPages:r,setTotalPages:n})=>a.jsxs(P,{"aria-label":"Page navigation",children:[a.jsx(k,{onClick:()=>s((e=>Math.max(e-1,1))),disabled:1===e,"aria-label":"Previous",children:a.jsx(l,{"aria-hidden":!0,icon:c})}),(()=>{const n=[],t=Math.max(1,e-2),i=Math.min(r,t+5-1);t>1&&(n.push(a.jsx(k,{onClick:()=>s(1),children:"1"},1)),t>2&&n.push(a.jsx(k,{disabled:!0,children:"…"},"ellipsis-start")));for(let r=t;r<=i;r++)n.push(a.jsx(k,{onClick:()=>s(r),active:e===r,children:r},r));return i<r&&(i<r-1&&n.push(a.jsx(k,{disabled:!0,children:"…"},"ellipsis-end")),n.push(a.jsx(k,{onClick:()=>s(r),children:r},r))),n})(),a.jsx(k,{onClick:()=>s((e=>Math.min(e+1,r))),disabled:e===r,"aria-label":"Next",children:a.jsx(l,{"aria-hidden":!0,icon:d})})]});fe.propTypes={currentPage:me.number.isRequired,setCurrentPage:me.func.isRequired,totalPages:me.number.isRequired,setTotalPages:me.func.isRequired};const be=({data:e,children:s})=>{const{showAppModal:r,setShowAppModal:n}=e;return a.jsx(a.Fragment,{children:a.jsx(S,{alignment:"center",scrollable:!0,visible:r,onClose:()=>n(!1),children:a.jsx(L,{children:s})})})};be.propTypes={data:me.shape({showAppModal:me.bool.isRequired,setShowAppModal:me.func.isRequired}).isRequired,children:me.node.isRequired};const ye=()=>{const[e,r]=s.useState([]),[n,t]=s.useState(1),[o,c]=s.useState(0),[d,x]=s.useState(!1),[h,j]=s.useState(!0);s.useEffect((()=>{p(n)}),[n]);const p=async e=>{try{const s=await axios.get("/categories",{params:{page:e}});if(s.data.error)return C.error(s.data.error);r(s.data.data),c(s.data.totalPages),t(s.data.currentPage)}catch(s){console.error("Error fetching Users:",s),C.error("Failed to fetch categories list")}finally{j(!1)}};return a.jsxs("div",{children:[a.jsx(i,{children:a.jsx("title",{children:"Categories - Project POS"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("h1",{children:"Categories"}),a.jsx("div",{children:a.jsxs(w,{color:"primary",onClick:()=>x(!0),children:[a.jsx(l,{icon:m})," Add Category"]})})]}),a.jsx(be,{data:{showAppModal:d,setShowAppModal:x},children:a.jsx(ue,{})}),h&&a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsx("h3",{children:"Loading categories..."})}),0==e.length&&!h&&a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsx("h3",{children:"No categories yet"})}),e.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(A,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx(E,{children:a.jsxs(R,{children:[a.jsx(M,{scope:"col",children:"Name"}),a.jsx(M,{scope:"col",children:"Description"}),a.jsx(M,{scope:"col"})]})}),a.jsx(z,{children:e.map(((e,s)=>a.jsxs(R,{children:[a.jsx(D,{children:e.name}),a.jsx(D,{children:e.description}),a.jsx(D,{})]},e.id)))})]}),a.jsx(fe,{currentPage:n,setCurrentPage:t,totalPages:o,setTotalPages:c})]})]})},Ne=s.lazy((()=>e((()=>import("./Ce13HLun.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])))),Ce=s.lazy((()=>e((()=>import("./8s0Lk6BH.js")),__vite__mapDeps([16,1,2,3,4,5,6,17,13,14,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31])))),_e=s.lazy((()=>e((()=>import("./Dyh1qAe4.js")),__vite__mapDeps([32,1,2,3,4,5,6,13,14,17,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31])))),ve=s.lazy((()=>e((()=>import("./5T36XhWz.js")),__vite__mapDeps([33,1,2,3,4,5,6,13,14,15,7,8,9,10,11,12,20,21,22,23,18,19,24,25,26,27,17,28,29,30,31])))),we=r.memo((()=>a.jsx(q,{fluid:!0,className:"px-4",children:a.jsx(s.Suspense,{fallback:a.jsx(T,{color:"primary"}),children:a.jsxs(xe,{children:[a.jsx(he,{path:"/",element:a.jsx(Ne,{})}),a.jsx(he,{path:"/products",element:a.jsx(Ce,{})}),a.jsx(he,{path:"/categories",element:a.jsx(ye,{})}),a.jsx(he,{path:"/users",element:a.jsx(_e,{})}),a.jsx(he,{path:"/sales",element:a.jsx(ve,{})})]})})}))),Pe=()=>{const e=je(),s=n((e=>e.user)),r=e=>e?e.charAt(0).toUpperCase():"";return a.jsxs(F,{variant:"nav-item",className:"app-header-dropdown",children:[a.jsx(I,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:a.jsx("div",{className:"rounded-pill bg-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",color:"white"},children:r(s.name)})}),a.jsxs(O,{className:"pt-0",placement:"bottom-end",children:[a.jsxs(U,{className:"bg-body-secondary fw-semibold mb-2 d-flex flex-row align-items-center",children:[a.jsx("div",{className:"rounded-pill bg-primary d-flex align-items-center justify-content-center me-2 fs-6",style:{width:"40px",height:"40px",color:"white"},children:r(s.name)}),a.jsxs("div",{children:[a.jsx("span",{className:"d-block text-truncate",style:{maxWidth:"250px"},children:s.name}),a.jsx("span",{className:"d-block text-truncate",style:{maxWidth:"250px"},children:s.email})]})]}),a.jsxs(V,{onClick:()=>e("/account"),children:[a.jsx(l,{icon:x,className:"me-2"}),"My Account"]}),a.jsx(H,{}),a.jsxs(V,{onClick:()=>e("/logout",{replace:!0}),children:[a.jsx(l,{icon:h,className:"me-2"}),"Logout"]})]})]})},ke=()=>{const[e,r]=s.useState([]),[n,t]=s.useState({name:"",code:"",barcode:"",unit_measurement:"",category_id:0,is_active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null}),i=e=>{const{id:s,value:a}=e.target;t((e=>({...e,[s]:a})))},c=e=>{const{id:s,checked:a}=e.target;t((e=>({...e,[s]:a})))};return s.useEffect((()=>{(async()=>{const[e]=await Promise.all([axios.get("/categories")]);r(e.data)})()}),[]),a.jsxs(_,{onSubmit:e=>{e.preventDefault(),axios.post("/products",n).then((e=>{if(e.data.error)return C.error(e.data.error);C.success(`${n.name} created successfully`),t({name:"",code:"",barcode:"",unit_measurement:"",category_id:0,is_active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null})})).catch((e=>{console.error("Error creating product:",e),C.error(`Failed to create product ${n.name}`)}))},className:"p-2",children:[a.jsxs("div",{className:"d-flex align-items-center mb-3 fs-5",children:[a.jsx(l,{icon:o,className:"me-2"}),"New Product"]}),a.jsx("h5",{children:"Details"}),a.jsx(v,{type:"text",id:"name",floatingClassName:"mb-3",floatingLabel:"Name",onChange:i,placeholder:"",required:!0}),a.jsxs($,{children:[a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"text",id:"code",floatingClassName:"mb-3",floatingLabel:"Code",onChange:i,placeholder:""})}),a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"text",id:"barcode",floatingClassName:"mb-3",floatingLabel:"Barcode",onChange:i,placeholder:""})})]}),a.jsxs($,{children:[a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"text",id:"unit_measurement",floatingClassName:"mb-3",floatingLabel:"Unit of Measurement",onChange:i,placeholder:""})}),a.jsx(W,{xs:12,md:6,children:a.jsx(B,{id:"category_id",floatingClassName:"mb-3",floatingLabel:"Category",onChange:e=>{const{id:s,value:a}=e.target;t((e=>({...e,[s]:"category_id"===s?parseInt(a):a})))},options:[...e.map((e=>({label:e.name,value:e.id})))]})})]}),a.jsx(G,{onChange:c,label:"Active",id:"is_active",defaultChecked:!0}),a.jsx(G,{onChange:c,label:"Default Quantity",id:"default_quantity",defaultChecked:!0}),a.jsx(v,{type:"number",id:"age_restriction",floatingClassName:"mb-3",floatingLabel:"Age Restriction",onChange:i,placeholder:""}),a.jsx(v,{type:"text",id:"description",floatingClassName:"mb-3",floatingLabel:"Description",onChange:i,placeholder:""}),a.jsx("h5",{children:"Price"}),a.jsxs($,{children:[a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"number",id:"taxes",floatingClassName:"mb-3",floatingLabel:"Taxes %",onChange:i,placeholder:""})}),a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"number",id:"cost_price",floatingClassName:"mb-3",floatingLabel:"Cost",onChange:i,placeholder:""})})]}),a.jsxs($,{children:[a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"number",id:"markup",floatingClassName:"mb-3",floatingLabel:"Markup",onChange:i,placeholder:""})}),a.jsx(W,{xs:12,md:6,children:a.jsx(v,{type:"number",id:"sale_price",floatingClassName:"mb-3",floatingLabel:"Sale Price",onChange:i,placeholder:""})})]}),a.jsx("h5",{children:"Image & Color"}),a.jsx(v,{type:"text",id:"color",floatingClassName:"mb-3",floatingLabel:"Color",onChange:i,placeholder:""}),a.jsxs("div",{className:"mb-3",children:[a.jsx(v,{type:"file",id:"image",onChange:e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onloadend=()=>{t((s=>({...s,image:e.result})))},e.readAsDataURL(s)}},accept:"image/*",className:"mb-2"}),n.image&&a.jsx(w,{color:"danger",className:"me-2",size:"sm",onClick:()=>{t((e=>({...e,image:null})))},children:"Clear Image"})]}),n.image&&a.jsx(J,{src:n.image,className:"img-fluid mb-3",alt:"Selected image",style:{maxWidth:"150px",maxHeight:"150px"}}),a.jsxs("div",{className:"d-flex justify-content-end mt-3",children:[a.jsx(w,{color:"secondary",className:"me-2",size:"sm",children:"Cancel"}),a.jsx(w,{color:"primary",size:"sm",type:"submit",children:"Add Product"})]})]})},Se=()=>{const e=s.useRef(),{colorMode:i,setColorMode:o}=K("coreui-free-react-admin-template-theme"),[c,d]=r.useState(!1),x=t(),h=n((e=>e.sidebarShow));return s.useEffect((()=>{document.addEventListener("scroll",(()=>{e.current&&e.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),a.jsxs(a.Fragment,{children:[a.jsx(Q,{position:"sticky",className:"mb-4 p-0",ref:e,children:a.jsxs(q,{className:"border-bottom px-4",fluid:!0,children:[a.jsx(X,{onClick:()=>x({type:"set",sidebarShow:!h}),style:{marginInlineStart:"-14px"},children:a.jsx(Y,{icon:Z,size:"lg"})}),a.jsx(ee,{className:"me-auto",children:a.jsx(se,{children:a.jsx(ae,{href:"#",onClick:()=>d(!0),children:a.jsx(l,{icon:m,size:"lg"})})})}),a.jsx(ee,{className:"ms-auto",children:a.jsx(se,{children:a.jsx(ae,{href:"#",children:a.jsx(l,{icon:j,size:"lg"})})})}),a.jsxs(ee,{children:["dark"===i?a.jsx(se,{children:a.jsx(ae,{href:"#",onClick:()=>o("light"),children:a.jsx(l,{icon:p,size:"lg"})})}):a.jsx(se,{children:a.jsx(ae,{href:"#",onClick:()=>o("dark"),children:a.jsx(l,{icon:g,size:"lg"})})}),a.jsx(Pe,{className:"app-header-dropdown"})]})]})}),a.jsx(be,{data:{showAppModal:c,setShowAppModal:d},children:a.jsx(ke,{})})]})},Le=({items:e})=>{const s=(e,s,r,n=!1)=>a.jsxs(a.Fragment,{children:[s||n&&a.jsx("span",{className:"nav-icon",children:a.jsx("span",{className:"nav-icon-bullet"})}),e&&e,r&&a.jsx(ne,{color:r.color,className:"ms-auto",size:"sm",children:r.text})]}),r=(e,r,n=!1)=>{const{component:t,name:i,badge:l,icon:o,...c}=e,d=t;return a.jsx(d,{as:"div",children:c.to||c.href?a.jsx(ae,{...c.to&&{as:pe},...c.href&&{target:"_blank",rel:"noopener noreferrer"},...c,children:s(i,o,l,n)}):s(i,o,l,n)},r)},n=(e,t)=>{const{component:i,name:l,icon:o,items:c,to:d,...m}=e,x=i;return a.jsx(x,{compact:!0,as:"div",toggler:s(l,o),...m,children:null==c?void 0:c.map(((e,s)=>e.items?n(e,s):r(e,s,!0)))},t)};return a.jsx(re,{as:ge,children:e&&e.map(((e,s)=>e.items?n(e,s):r(e,s)))})};Le.propTypes={items:me.arrayOf(me.any).isRequired};const Ae=[{component:se,name:"Dashboard",to:"/",icon:a.jsx(l,{icon:u,className:"nav-icon"})},{component:se,name:"Products",to:"/products",icon:a.jsx(l,{icon:f,className:"nav-icon"})},{component:se,name:"Categories",to:"/categories",icon:a.jsx(l,{icon:f,className:"nav-icon"})},{component:se,name:"Sales",to:"/sales",icon:a.jsx(l,{icon:b,className:"nav-icon"})},{component:se,name:"Users",to:"/users",icon:a.jsx(l,{icon:y,className:"nav-icon"})},{component:se,name:"Settings",to:"/settings",icon:a.jsx(l,{icon:N,className:"nav-icon"})}],Ee=r.memo((()=>{je();const e=t(),s=n((e=>e.sidebarUnfoldable)),r=n((e=>e.sidebarShow)),{colorMode:i}=K("coreui-free-react-admin-template-theme");return a.jsxs(te,{className:"border-end sidebar",position:"fixed",unfoldable:s,visible:r,onVisibleChange:s=>{e({type:"set",sidebarShow:s})},children:[a.jsxs(ie,{children:[a.jsxs(le,{to:"/",className:"text-decoration-none",children:[a.jsx("span",{className:"sidebar-brand-full fs-5",children:"Point of Sale"}),a.jsx(J,{src:`/images/brand-narrow-${i}.png`,className:"sidebar-brand-narrow",width:30,height:30})]}),a.jsx(oe,{className:"d-lg-none",dark:!0,onClick:()=>e({type:"set",sidebarShow:!1})})]}),a.jsx(Le,{items:Ae}),a.jsx(ce,{className:"d-none d-lg-flex",children:a.jsx(de,{onClick:()=>e({type:"set",sidebarUnfoldable:!s})})})]})})),Re=s.lazy((()=>e((()=>import("./D45jnhfl.js")),__vite__mapDeps([34,1,2,17,4,13,14,7,8,9,10,11,12,35,36,37,38,39,40,41,21,22,18,19,15,20,23,24,25,26,27,3,5,6,28,29,30,31])))),Me=s.lazy((()=>e((()=>import("./8s0Lk6BH.js")),__vite__mapDeps([16,1,2,3,4,5,6,17,13,14,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31])))),ze=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n((e=>e.user)),s=n((e=>e.session_id));return e?["super_admin","admin"].includes(e.role)?a.jsxs("div",{children:[a.jsx(Ee,{}),a.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[a.jsx(Se,{}),a.jsx("div",{className:"body flex-grow-1",children:a.jsx(we,{})})]})]}):"cashier"===e.role?a.jsx(Re,{}):"production"===e.role?a.jsx("div",{children:a.jsx(Me,{})}):a.jsx(a.Fragment,{children:"Hello world"}):a.jsx("div",{className:"loading-overlay "+(s?"":"bg-dark"),children:a.jsx(T,{color:"primary",variant:"grow"})})}},Symbol.toStringTag,{value:"Module"}));export{fe as A,ze as D,ke as P,be as a};
