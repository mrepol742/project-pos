/**
 * © 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LMP7MhzJ.js","assets/Cn32OB1o.js","assets/Dph47E3T.js","assets/t8mI9RYm.js","assets/uZNeay-J.js","assets/DUYG9vXX.js","assets/DKQ8yKpg.js","assets/YAh4y49R.js","assets/CFrBDmKk.js","assets/CGa6wk7G.js","assets/k-NSAY8B.js","assets/DLoPGEpw.js","assets/Bud0EmM2.js","assets/InIMjYBq.js","assets/BeLtu-UY.js","assets/nJrICC0Q.js","assets/ElE1xeBB.js","assets/CdjoWadd.js","assets/DQcpn1Ea.js","assets/BUTH-fPQ.js","assets/DzU0iCrx.js","assets/DyGPnA2_.js","assets/Dg4gVdE3.js","assets/BFlcZtwJ.js","assets/BPjVUy-D.js","assets/BTvahscA.js","assets/BXEMiIsG.js","assets/DtD_m7HI.css","assets/Ca9hs0uL.js","assets/hqVdLbZn.js","assets/D0N3IP90.js","assets/C111EtUu.css","assets/CJ2JRaeK.js","assets/Cnaj6byH.js","assets/BxKqhFAb.js","assets/DDb4eveY.js","assets/DnE_tpiE.js","assets/Ds-FckBC.js","assets/CZHQSwml.js","assets/Bn0FtMhX.js","assets/DXfOt1-V.js","assets/BPEPcvPN.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./DzU0iCrx.js";import{r as s,j as a,R as r}from"./Cn32OB1o.js";import{a as n,u as t}from"./DyGPnA2_.js";import{H as i}from"./t8mI9RYm.js";import{F as o,f as l,a as c,b as d,c as m,d as x,e as h,g as j,h as p,i as u,j as g}from"./CdjoWadd.js";import{y as b}from"./InIMjYBq.js";import{c as f,a as y,d as N,e as v,f as _,g as w,h as C,i as P,j as k,k as S,l as z,m as E,n as A,C as R,b as M,o as L,p as T,q as D,r as O,s as q,t as F,u as I,v as V,w as U,x as H,y as G,z as W,A as $,B,D as J,E as K,F as Q,G as X,H as Y,I as Z,J as ee,K as se,L as ae,M as re,N as ne,O as te,P as ie,Q as oe}from"./YAh4y49R.js";import{P as le}from"./uZNeay-J.js";import{R as ce,a as de,u as me,b as xe}from"./DQcpn1Ea.js";import{S as he}from"./Ca9hs0uL.js";const je=()=>{const[e,r]=s.useState({name:"",description:""}),n=e=>{const{id:s,value:a}=e.target;r((e=>({...e,[s]:a})))};return a.jsxs(f,{onSubmit:s=>{s.preventDefault(),axios.post("/categories",e).then((s=>{if(s.data.error)return b.error(s.data.error);b.success(`${e.name} created successfully`),r({name:"",description:""})})).catch((s=>{console.error("Error creating category:",s),b.error(`Failed to create category ${e.name}`)}))},children:[a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("h3",{className:"mb-3",children:"New Category"}),a.jsxs("div",{children:[a.jsx(y,{color:"secondary",className:"me-2",size:"sm",children:"Cancel"}),a.jsx(y,{color:"primary",size:"sm",type:"submit",children:"Save"})]})]}),a.jsx(N,{type:"text",id:"name",floatingClassName:"mb-3",floatingLabel:"Name",onChange:n,placeholder:""}),a.jsx(N,{type:"text",id:"description",floatingClassName:"mb-3",floatingLabel:"Description",onChange:n,placeholder:""})]})},pe=({currentPage:e,setCurrentPage:s,totalPages:r,setTotalPages:n})=>a.jsxs(v,{"aria-label":"Page navigation",children:[a.jsx(_,{onClick:()=>s((e=>Math.max(e-1,1))),disabled:1===e,"aria-label":"Previous",children:a.jsx(o,{"aria-hidden":!0,icon:l})}),(()=>{const n=[],t=Math.max(1,e-2),i=Math.min(r,t+5-1);t>1&&(n.push(a.jsx(_,{onClick:()=>s(1),children:"1"},1)),t>2&&n.push(a.jsx(_,{disabled:!0,children:"…"},"ellipsis-start")));for(let r=t;r<=i;r++)n.push(a.jsx(_,{onClick:()=>s(r),active:e===r,children:r},r));return i<r&&(i<r-1&&n.push(a.jsx(_,{disabled:!0,children:"…"},"ellipsis-end")),n.push(a.jsx(_,{onClick:()=>s(r),children:r},r))),n})(),a.jsx(_,{onClick:()=>s((e=>Math.min(e+1,r))),disabled:e===r,"aria-label":"Next",children:a.jsx(o,{"aria-hidden":!0,icon:c})})]});pe.propTypes={currentPage:le.number.isRequired,setCurrentPage:le.func.isRequired,totalPages:le.number.isRequired,setTotalPages:le.func.isRequired};const ue=({data:e,children:s})=>{const{showAppModal:r,setShowAppModal:n}=e;return a.jsx(a.Fragment,{children:a.jsx(w,{alignment:"center",scrollable:!0,visible:r,onClose:()=>n(!1),children:a.jsx(C,{children:s})})})};ue.propTypes={data:le.shape({showAppModal:le.bool.isRequired,setShowAppModal:le.func.isRequired}).isRequired,children:le.node.isRequired};const ge=()=>{const[e,r]=s.useState([]),[n,t]=s.useState(1),[l,c]=s.useState(0),[m,x]=s.useState(!1),[h,j]=s.useState(!0);s.useEffect((()=>{p(n)}),[n]);const p=async e=>{try{const s=await axios.get("/categories",{params:{page:e}});if(s.data.error)return b.error(s.data.error);r(s.data.data),c(s.data.totalPages),t(s.data.currentPage)}catch(s){console.error("Error fetching Users:",s),b.error("Failed to fetch categories list")}finally{j(!1)}};return a.jsxs("div",{children:[a.jsx(i,{children:a.jsx("title",{children:"Categories - Project POS"})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("h1",{children:"Categories"}),a.jsx("div",{children:a.jsxs(y,{color:"primary",onClick:()=>x(!0),children:[a.jsx(o,{icon:d})," Add Category"]})})]}),a.jsx(ue,{data:{showAppModal:m,setShowAppModal:x},children:a.jsx(je,{})}),h&&a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsx("h3",{children:"Loading categories..."})}),0==e.length&&a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsx("h3",{children:"No categories yet"})}),e.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(P,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx(k,{children:a.jsxs(S,{children:[a.jsx(z,{scope:"col",children:"Name"}),a.jsx(z,{scope:"col",children:"Description"}),a.jsx(z,{scope:"col"})]})}),a.jsx(E,{children:e.map(((e,s)=>a.jsxs(S,{children:[a.jsx(A,{children:e.name}),a.jsx(A,{children:e.description}),a.jsx(A,{})]},e.id)))})]}),a.jsx(pe,{currentPage:n,setCurrentPage:t,totalPages:l,setTotalPages:c})]})]})},be=s.lazy((()=>e((()=>import("./LMP7MhzJ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])))),fe=s.lazy((()=>e((()=>import("./ElE1xeBB.js")),__vite__mapDeps([16,1,2,3,4,5,6,17,13,14,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31])))),ye=s.lazy((()=>e((()=>import("./CJ2JRaeK.js")),__vite__mapDeps([32,1,2,3,4,5,6,13,14,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,17,28,29,30,31])))),Ne=s.lazy((()=>e((()=>import("./Cnaj6byH.js")),__vite__mapDeps([33,1,2,3,4,5,6,13,14,15,7,8,9,10,11,12,20,21,22,23,18,19,24,25,26,27,17,28,29,30,31])))),ve=r.memo((()=>a.jsx(R,{fluid:!0,className:"px-4",children:a.jsx(s.Suspense,{fallback:a.jsx(M,{color:"primary"}),children:a.jsxs(ce,{children:[a.jsx(de,{path:"/",element:a.jsx(be,{})}),a.jsx(de,{path:"/products",element:a.jsx(fe,{})}),a.jsx(de,{path:"/categories",element:a.jsx(ge,{})}),a.jsx(de,{path:"/users",element:a.jsx(ye,{})}),a.jsx(de,{path:"/sales",element:a.jsx(Ne,{})})]})})}))),_e=()=>{const e=me(),s=n((e=>e.user)),r=e=>e?e.charAt(0).toUpperCase():"";return a.jsxs(L,{variant:"nav-item",className:"app-header-dropdown",children:[a.jsx(T,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:a.jsx("div",{className:"rounded-pill bg-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px",color:"white"},children:r(s.name)})}),a.jsxs(D,{className:"pt-0",placement:"bottom-end",children:[a.jsxs(O,{className:"bg-body-secondary fw-semibold mb-2",children:[a.jsx("div",{className:"rounded-pill bg-primary d-flex align-items-center justify-content-center mb-2 fs-4",style:{width:"70px",height:"70px",color:"white"},children:r(s.name)}),a.jsx("span",{className:"d-block text-truncate",style:{maxWidth:"250px"},children:s.name}),a.jsx("span",{className:"d-block text-truncate",style:{maxWidth:"250px"},children:s.email})]}),a.jsxs(q,{onClick:()=>e("/account"),children:[a.jsx(o,{icon:m,className:"me-2"}),"My Account"]}),a.jsx(F,{}),a.jsxs(q,{onClick:()=>e("/logout",{replace:!0}),children:[a.jsx(o,{icon:x,className:"me-2"}),"Logout"]})]})]})},we=()=>{const e=s.useRef(),{colorMode:r,setColorMode:i}=I("coreui-free-react-admin-template-theme"),o=t(),l=n((e=>e.sidebarShow));return s.useEffect((()=>{document.addEventListener("scroll",(()=>{e.current&&e.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),a.jsx(V,{position:"sticky",className:"mb-4 p-0",ref:e,children:a.jsxs(R,{className:"border-bottom px-4",fluid:!0,children:[a.jsx(U,{onClick:()=>o({type:"set",sidebarShow:!l}),style:{marginInlineStart:"-14px"},children:a.jsx(H,{icon:G,size:"lg"})}),a.jsx(W,{className:"ms-auto",children:a.jsx($,{children:a.jsx(B,{href:"#",children:a.jsx(H,{icon:J,size:"lg"})})})}),a.jsxs(W,{children:[a.jsxs(L,{variant:"nav-item",placement:"bottom-end",children:[a.jsx(T,{caret:!1,children:"dark"===r?a.jsx(H,{icon:K,size:"lg"}):"auto"===r?a.jsx(H,{icon:Q,size:"lg"}):a.jsx(H,{icon:X,size:"lg"})}),a.jsxs(D,{children:[a.jsxs(q,{active:"light"===r,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("light"),children:[a.jsx(H,{className:"me-2",icon:X,size:"lg"})," Light"]}),a.jsxs(q,{active:"dark"===r,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("dark"),children:[a.jsx(H,{className:"me-2",icon:K,size:"lg"})," Dark"]}),a.jsxs(q,{active:"auto"===r,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("auto"),children:[a.jsx(H,{className:"me-2",icon:Q,size:"lg"})," Auto"]})]})]}),a.jsx($,{className:"d-block d-md-none",children:a.jsx(B,{href:"#",children:a.jsx(H,{icon:J,size:"lg"})})}),a.jsx(_e,{className:"app-header-dropdown"})]})]})})},Ce=({items:e})=>{const s=(e,s,r,n=!1)=>a.jsxs(a.Fragment,{children:[s||n&&a.jsx("span",{className:"nav-icon",children:a.jsx("span",{className:"nav-icon-bullet"})}),e&&e,r&&a.jsx(Z,{color:r.color,className:"ms-auto",size:"sm",children:r.text})]}),r=(e,r,n=!1)=>{const{component:t,name:i,badge:o,icon:l,...c}=e,d=t;return a.jsx(d,{as:"div",children:c.to||c.href?a.jsx(B,{...c.to&&{as:xe},...c.href&&{target:"_blank",rel:"noopener noreferrer"},...c,children:s(i,l,o,n)}):s(i,l,o,n)},r)},n=(e,t)=>{const{component:i,name:o,icon:l,items:c,to:d,...m}=e,x=i;return a.jsx(x,{compact:!0,as:"div",toggler:s(o,l),...m,children:null==c?void 0:c.map(((e,s)=>e.items?n(e,s):r(e,s,!0)))},t)};return a.jsx(Y,{as:he,children:e&&e.map(((e,s)=>e.items?n(e,s):r(e,s)))})};Ce.propTypes={items:le.arrayOf(le.any).isRequired};const Pe=[{component:$,name:"Dashboard",to:"/",icon:a.jsx(o,{icon:h,className:"me-2"})},{component:ee,name:"Store"},{component:$,name:"Products",to:"/products",icon:a.jsx(o,{icon:j,className:"me-2"})},{component:$,name:"Categories",to:"/categories",icon:a.jsx(o,{icon:j,className:"me-2"})},{component:$,name:"Sales",to:"/sales",icon:a.jsx(o,{icon:p,className:"me-2"})},{component:$,name:"Users",to:"/users",icon:a.jsx(o,{icon:u,className:"me-2"})},{component:$,name:"Settings",to:"/settings",icon:a.jsx(o,{icon:g,className:"me-2"})}],ke=r.memo((()=>{me();const e=t(),s=n((e=>e.sidebarUnfoldable)),r=n((e=>e.sidebarShow));return n((e=>e.user)),a.jsxs(se,{className:"border-end sidebar",position:"fixed",unfoldable:s,visible:r,onVisibleChange:s=>{e({type:"set",sidebarShow:s})},children:[a.jsxs(ae,{children:[a.jsxs(re,{to:"/",children:[a.jsx(ne,{src:"/images/header.png",className:"sidebar-brand-full rounded",width:220,height:30}),a.jsx(ne,{src:"/favicon.png",className:"sidebar-brand-narrow",width:50,height:30})]}),a.jsx(te,{className:"d-lg-none",dark:!0,onClick:()=>e({type:"set",sidebarShow:!1})})]}),a.jsx(Ce,{items:Pe}),a.jsx(ie,{className:"d-none d-lg-flex",children:a.jsx(oe,{onClick:()=>e({type:"set",sidebarUnfoldable:!s})})})]})})),Se=s.lazy((()=>e((()=>import("./BxKqhFAb.js")),__vite__mapDeps([34,1,2,17,4,13,14,7,8,9,10,11,12,35,36,37,38,39,40,41,21,22,18,19,15,20,23,24,25,26,27,3,5,6,28,29,30,31])))),ze=s.lazy((()=>e((()=>import("./ElE1xeBB.js")),__vite__mapDeps([16,1,2,3,4,5,6,17,13,14,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31])))),Ee=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=n((e=>e.user)),s=n((e=>e.session_id));return e?["super_admin","admin"].includes(e.role)?a.jsxs("div",{children:[a.jsx(ke,{}),a.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[a.jsx(we,{}),a.jsx("div",{className:"body flex-grow-1",children:a.jsx(ve,{})})]})]}):"cashier"===e.role?a.jsx(Se,{}):"production"===e.role?a.jsx("div",{children:a.jsx(ze,{})}):a.jsx(a.Fragment,{children:"Hello world"}):a.jsx("div",{className:"loading-overlay "+(s?"":"bg-dark"),children:a.jsx(M,{color:"primary",variant:"grow"})})}},Symbol.toStringTag,{value:"Module"}));export{pe as A,Ee as D,ue as a};
