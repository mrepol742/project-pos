/**
 * © 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,j as s}from"./Cn32OB1o.js";import{H as r}from"./t8mI9RYm.js";import{a3 as o,a4 as t,a as l,i as a,j as n,k as c,l as i,m as d,n as u,o as m,p as h,q as x,s as b,R as g,S as j,T as p,U as y}from"./YAh4y49R.js";import"./DLoPGEpw.js";import{y as f}from"./InIMjYBq.js";import{t as v}from"./nJrICC0Q.js";import"./Dph47E3T.js";import"./uZNeay-J.js";import"./DUYG9vXX.js";import"./DKQ8yKpg.js";import"./CFrBDmKk.js";import"./CGa6wk7G.js";import"./k-NSAY8B.js";import"./Bud0EmM2.js";import"./BeLtu-UY.js";const C=()=>{const r=e.useRef(null),[l,a]=e.useState({labels:["This week","Last week"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[1,1]}]});e.useEffect((()=>{(async()=>{axios.get("/dashboard/summary-earnings").then((e=>{if(e.data.error)return toast.error(e.data.error);a({...l,datasets:[{...l.datasets[0],data:[e.data.recent,e.data.previous]}]})}))})();const e=()=>{var e,s;const t=r.current;if(t){const{options:r}=t;(null==(s=null==(e=r.plugins)?void 0:e.legend)?void 0:s.labels)&&(r.plugins.legend.labels.color=o("--cui-body-color")),t.update()}};return document.documentElement.addEventListener("ColorSchemeChange",e),()=>{document.documentElement.removeEventListener("ColorSchemeChange",e)}}),[]);const n={plugins:{legend:{labels:{color:o("--cui-body-color")}}}};return s.jsx(t,{type:"doughnut",data:l,options:n,ref:r})},k=()=>{const r=e.useRef(null),[l,a]=e.useState({labels:["This week","Last week"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[1,1]}]});e.useEffect((()=>{(async()=>{axios.get("/dashboard/summary-sales").then((e=>{if(e.data.error)return toast.error(e.data.error);a({...l,datasets:[{...l.datasets[0],data:[e.data.recent,e.data.previous]}]})}))})();const e=()=>{var e,s;const t=r.current;if(t){const{options:r}=t;(null==(s=null==(e=r.plugins)?void 0:e.legend)?void 0:s.labels)&&(r.plugins.legend.labels.color=o("--cui-body-color")),t.update()}};return document.documentElement.addEventListener("ColorSchemeChange",e),()=>{document.documentElement.removeEventListener("ColorSchemeChange",e)}}),[]);const n={plugins:{legend:{labels:{color:o("--cui-body-color")}}}};return s.jsx(t,{type:"doughnut",data:l,options:n,ref:r})},S=()=>{const r=e.useRef(null),[l,a]=e.useState({labels:["This week","Last week"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[1,1]}]});e.useEffect((()=>{(async()=>{axios.get("/dashboard/summary-avg-items").then((e=>{if(e.data.error)return toast.error(e.data.error);a({...l,datasets:[{...l.datasets[0],data:[e.data.recent,e.data.previous]}]})}))})();const e=()=>{var e,s;const t=r.current;if(t){const{options:r}=t;(null==(s=null==(e=r.plugins)?void 0:e.legend)?void 0:s.labels)&&(r.plugins.legend.labels.color=o("--cui-body-color")),t.update()}};return document.documentElement.addEventListener("ColorSchemeChange",e),()=>{document.documentElement.removeEventListener("ColorSchemeChange",e)}}),[]);const n={plugins:{legend:{labels:{color:o("--cui-body-color")}}}};return s.jsx(t,{type:"doughnut",data:l,options:n,ref:r})},E=()=>{const[r,o]=e.useState({earnings:0,sales:0,items:0});return e.useEffect((()=>{(async()=>{axios.get("/dashboard/summary-total").then((e=>{if(e.data.error)return toast.error(e.data.error);o(e.data)}))})()}),[]),s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-uppercase text-muted",children:"Total Sales"}),s.jsxs("h3",{className:"fw-bold mt-3",children:[r.earnings.toLocaleString()," ₱"]}),s.jsx("span",{className:"text-uppercase text-muted",children:"Total Transactions"}),s.jsx("h4",{className:"fw-bold mt-2",children:r.sales.toLocaleString()}),s.jsx("span",{className:"text-uppercase text-muted",children:"Total Items Sold"}),s.jsx("h5",{className:"fw-bold mt-2",children:r.items.toLocaleString()})]})},N=()=>{const[r,o]=e.useState([]),t=async()=>{try{axios.get("/dashboard/latest-transactions").then((e=>{if(e.data.error)return f.error(e.data.error);o(e.data)}))}catch(e){console.error("Error fetching Latest transactions:",e),f.error("Failed to fetch latest transactions")}};return e.useEffect((()=>{t()}),[]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h6",{children:"Latest Transactions"}),s.jsxs("div",{children:[s.jsx(l,{className:"me-1",size:"sm",onClick:()=>{o([]),t()},children:"Refresh"}),s.jsx(l,{size:"sm",onClick:()=>navigate("/sales"),children:"View All"})]})]}),s.jsxs(a,{small:!0,hover:!0,responsive:!0,children:[s.jsx(n,{children:s.jsxs(c,{children:[s.jsx(i,{children:"Cashier"}),s.jsx(i,{children:"Amount"}),s.jsx(i,{children:"Items"}),s.jsx(i,{})]})}),s.jsx(d,{children:r.map(((e,r)=>s.jsxs(c,{children:[s.jsx(u,{children:e.cashier.name}),s.jsxs(u,{children:[e.total.toLocaleString()," ₱"]}),s.jsx(u,{children:e.total_items.toLocaleString()}),s.jsx(u,{children:v(e.created_at)})]},e.id)))})]})]})},L=()=>{const r=e.useRef(null),[l,a]=e.useState("monthly"),[n,c]=e.useState([]);e.useEffect((()=>{const e=()=>{var e,s,t,l;const a=r.current;if(a){const{options:r}=a;(null==(s=null==(e=r.plugins)?void 0:e.legend)?void 0:s.labels)&&(r.plugins.legend.labels.color=o("--cui-body-color")),(null==(t=r.scales)?void 0:t.x)&&(r.scales.x.grid&&(r.scales.x.grid.color=o("--cui-border-color-translucent")),r.scales.x.ticks&&(r.scales.x.ticks.color=o("--cui-body-color"))),(null==(l=r.scales)?void 0:l.y)&&(r.scales.y.grid&&(r.scales.y.grid.color=o("--cui-border-color-translucent")),r.scales.y.ticks&&(r.scales.y.ticks.color=o("--cui-body-color"))),a.update()}};return document.documentElement.addEventListener("ColorSchemeChange",e),()=>{document.documentElement.removeEventListener("ColorSchemeChange",e)}}),[]);const i={plugins:{legend:{labels:{color:o("--cui-body-color")}}},scales:{x:{grid:{color:o("--cui-border-color-translucent")},ticks:{color:o("--cui-body-color")},type:"category"},y:{grid:{color:o("--cui-border-color-translucent")},ticks:{color:o("--cui-body-color")},beginAtZero:!0}}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("h6",{children:"Transaction activity"}),s.jsxs(m,{children:[s.jsx(h,{color:"secondary",className:"text-capitalize",children:l}),s.jsxs(x,{children:[s.jsx(b,{onClick:e=>a("daily"),children:"Daily"}),s.jsx(b,{onClick:e=>a("weekly"),children:"Weekly"}),s.jsx(b,{onClick:e=>a("monthly"),children:"Monthly"}),s.jsx(b,{onClick:e=>a("yearly"),children:"Yearly"})]})]})]}),s.jsx(t,{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"This year",backgroundColor:"rgba(220, 220, 220, 0.2)",borderColor:"rgba(220, 220, 220, 1)",pointBackgroundColor:"rgba(220, 220, 220, 1)",pointBorderColor:"#fff",data:[40,20,12,39,10,40,39,80,40,60,60,10],fill:!0},{label:"Last year",backgroundColor:"rgba(151, 187, 205, 0.2)",borderColor:"rgba(151, 187, 205, 1)",pointBackgroundColor:"rgba(151, 187, 205, 1)",pointBorderColor:"#fff",data:[50,12,28,29,7,25,12,70,69,60,60,10],fill:!0}]},options:i,ref:r})]})},w=()=>{const r=e.useRef(null),[l,a]=e.useState("monthly"),[n,c]=e.useState([]);e.useEffect((()=>{const e=()=>{var e,s,t,l;const a=r.current;if(a){const{options:r}=a;(null==(s=null==(e=r.plugins)?void 0:e.legend)?void 0:s.labels)&&(r.plugins.legend.labels.color=o("--cui-body-color")),(null==(t=r.scales)?void 0:t.x)&&(r.scales.x.grid&&(r.scales.x.grid.color=o("--cui-border-color-translucent")),r.scales.x.ticks&&(r.scales.x.ticks.color=o("--cui-body-color"))),(null==(l=r.scales)?void 0:l.y)&&(r.scales.y.grid&&(r.scales.y.grid.color=o("--cui-border-color-translucent")),r.scales.y.ticks&&(r.scales.y.ticks.color=o("--cui-body-color"))),a.update()}};return document.documentElement.addEventListener("ColorSchemeChange",e),()=>{document.documentElement.removeEventListener("ColorSchemeChange",e)}}),[]);const i={plugins:{legend:{labels:{color:o("--cui-body-color")}}},scales:{x:{grid:{color:o("--cui-border-color-translucent")},ticks:{color:o("--cui-body-color")},type:"category"},y:{grid:{color:o("--cui-border-color-translucent")},ticks:{color:o("--cui-body-color")},beginAtZero:!0}}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsx("h6",{children:"Sales activity"}),s.jsxs(m,{children:[s.jsx(h,{color:"secondary",className:"text-capitalize",children:l}),s.jsxs(x,{children:[s.jsx(b,{onClick:e=>a("daily"),children:"Daily"}),s.jsx(b,{onClick:e=>a("weekly"),children:"Weekly"}),s.jsx(b,{onClick:e=>a("monthly"),children:"Monthly"}),s.jsx(b,{onClick:e=>a("yearly"),children:"Yearly"})]})]})]}),s.jsx(t,{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"This year",backgroundColor:"rgba(220, 220, 220, 0.2)",borderColor:"rgba(220, 220, 220, 1)",pointBackgroundColor:"rgba(220, 220, 220, 1)",pointBorderColor:"#fff",data:[505,508,76,336,65,235,655,6568,346,346,346,325],fill:!0},{label:"Last year",backgroundColor:"rgba(151, 187, 205, 0.2)",borderColor:"rgba(151, 187, 205, 1)",pointBackgroundColor:"rgba(151, 187, 205, 1)",pointBorderColor:"#fff",data:[5,51,8,357,647,235,6595,6679,3463,3463,3464,3252],fill:!0}]},options:i,ref:r})]})},T=()=>s.jsxs("div",{children:[s.jsx(r,{children:s.jsx("title",{children:"Dashboard - Project POS"})}),s.jsxs(g,{children:[s.jsx(j,{xs:12,md:2,className:"mb-3",children:s.jsx(p,{className:"border-0",children:s.jsxs(y,{children:[s.jsx("h6",{className:"text-center text-uppercase text-muted mb-4",children:"Sales"}),s.jsx(C,{})]})})}),s.jsx(j,{xs:12,md:2,className:"mb-3",children:s.jsx(p,{className:"border-0",children:s.jsxs(y,{children:[s.jsx("h6",{className:"text-center text-uppercase text-muted mb-4",children:"Transactions"}),s.jsx(k,{})]})})}),s.jsx(j,{xs:12,md:2,className:"mb-3",children:s.jsx(p,{className:"border-0",children:s.jsxs(y,{children:[s.jsx("h6",{className:"text-center text-uppercase text-muted mb-4",children:"Avg Items"}),s.jsx(S,{})]})})}),s.jsx(j,{xs:12,md:3,className:"mb-3",children:s.jsx(p,{className:"border-0",children:s.jsx(y,{className:"text-center",children:s.jsx(E,{})})})})]}),s.jsxs(g,{className:"mb-3",children:[s.jsx(j,{xs:12,md:4,className:"mb-3",children:s.jsx(p,{className:"border-0",style:{minHeight:"304px"},children:s.jsx(y,{children:s.jsx(N,{})})})}),s.jsx(j,{xs:12,md:7,className:"mb-3",children:s.jsx(p,{className:"border-0",children:s.jsxs(y,{children:[s.jsx(L,{}),s.jsx("hr",{}),s.jsx(w,{})]})})})]})]});export{T as default};
