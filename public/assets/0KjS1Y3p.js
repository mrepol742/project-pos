/**
 * © 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as s,j as e}from"./Cn32OB1o.js";import{C as t,v as i,w as n,Q as o,R as r,c as a,S as d,T as c,D as l,U as h,d as p,V as m,a as x}from"./C6Ar4aP7.js";import{y as u}from"./InIMjYBq.js";import"./Dph47E3T.js";import"./uZNeay-J.js";import"./CFrBDmKk.js";import"./CGa6wk7G.js";import"./k-NSAY8B.js";import"./DLoPGEpw.js";import"./Bud0EmM2.js";import"./BeLtu-UY.js";const w=()=>{const[w,g]=s.useState({login:"",password:""}),[j,y]=s.useState(!1),b=s=>{const{name:e,value:t}=s.target;g((s=>({...s,[e]:t})))};s.useEffect((()=>{const s=document.getElementById("canvas");s.width=320,s.height=320;const e=s.getContext("2d");class t extends Array{constructor(...s){switch(s.length){case 2:super(s[0],s[1]);break;case 1:{const e=s[0];super(e,e);break}default:super(2)}}get x(){return this[0]}set x(s){this[0]=s}get y(){return this[1]}set y(s){this[1]=s}add(s){this[0]+=s[0],this[1]+=s[1]}distance(s){return t.distance(this,s)}static distance(s,e){return Math.hypot(e[0]-s[0],e[1]-s[1])}}class i{constructor(){this.speed=new t(Math.random(),Math.random()),this.position=new t(Math.random()*window.innerWidth,Math.random()*window.innerHeight),this.radius=4*Math.random()+1}update(){(this.position.x>window.innerWidth||this.position.x<0)&&(this.speed.x*=-1),(this.position.y>window.innerHeight||this.position.y<0)&&(this.speed.y*=-1),this.position.add(this.speed)}}const n=[];for(let r=0;r<100;r++)n.push(new i);const o=()=>{s.width=window.innerWidth,s.height=window.innerHeight;const t=(window.innerWidth+window.innerHeight)/40;for(let s=0;s<n.length;s++){n[s].update();for(let i=s;i<n.length;i++){const o=n[s].position.distance(n[i].position);o<t&&(e.strokeStyle=`rgba(66, 133, 244, ${1-o/t})`,e.beginPath(),e.moveTo(...n[s].position),e.lineTo(...n[i].position),e.stroke())}e.fillStyle="rgba(66, 133, 244, 0.5)",e.beginPath(),e.arc(...n[s].position,n[s].radius,0,2*Math.PI),e.fill()}requestAnimationFrame(o)};o()}),[]);const[f,v]=s.useState(!1);return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",style:{position:"relative"},children:[e.jsx("div",{className:"auth-bg",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),e.jsx("canvas",{id:"canvas",style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",zIndex:2,pointerEvents:"none"}}),e.jsx(t,{style:{position:"relative",zIndex:3},children:e.jsx(i,{className:"justify-content-center",children:e.jsx(n,{md:7,lg:5,xl:4,children:e.jsx(o,{className:"p-4 border-0",children:e.jsx(r,{children:e.jsxs(a,{onSubmit:async s=>{s.preventDefault();const e=new Promise((async(s,e)=>{try{const t=await axios.post("/auth/login",w);t.data.error&&(u.error(t.data.error),e(t.data.error)),cookies.set("session_id",t.data.session_token,{expires:1}),setTimeout((()=>{window.location.href="/"}),1e3),s(t.data)}catch(t){e(t)}}));u.promise(e,{pending:"Logging in...",success:"Login successful",error:"Invalid username or password"})},children:[e.jsx("h2",{children:"Project POS"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsxs(d,{className:"mb-3",children:[e.jsx(c,{className:"border-0 rounded",children:e.jsx(l,{icon:h})}),e.jsx(p,{className:"border-0",onChange:b,value:w.login,type:"text",name:"login",placeholder:"Username or Email"})]}),e.jsxs(d,{className:"mb-4",children:[e.jsx(c,{className:"border-0 rounded",children:e.jsx(l,{icon:m})}),e.jsx(p,{onChange:b,className:"border-0",value:w.password,name:"password",type:f?"text":"password",placeholder:"Password"}),e.jsx(c,{className:"border-0 rounded",style:{cursor:"pointer"},onClick:()=>v((s=>!s)),children:f?e.jsx("span",{role:"img","aria-label":"Hide password",children:"🙈"}):e.jsx("span",{role:"img","aria-label":"Show password",children:"👁️"})})]}),e.jsx(i,{children:e.jsx(n,{xs:6,children:e.jsx(x,{color:"primary",className:"px-4",type:"submit",children:"Login"})})})]})})})})})})]})};export{w as default};
